@using WineShop.Models;
@model WineShop.Models.Wine

@{
    ViewData["Title"] = "Details of Wine";
    Layout = "~/Views/Shared/_Layout.cshtml";

    WineShop.Models.User user = null;

    if (SessionHelper.IsExists(Context.Session, "User"))
    {
        user = SessionHelper.Get<WineShop.Models.User>(Context.Session, "User");
    }
}

<h2>@Model.Name</h2>
<h4>@Model.Description</h4>

<div>
    <h4></h4>
    <hr />

    <div class="row">
        <div class="col-sm-1 col-md-1"></div>
        <div class="col-sm-4 col-md-4">
            <br />
            <br />
            <br />

            <dl class="dl-horizontal">
                <dt>
                    @Html.DisplayNameFor(model => model.WineType)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.WineType)
                </dd>
        
                <dt>
                    @Html.DisplayNameFor(model => model.AlcoholPercentage)
                </dt>
                <dd>
                    @Html.Raw(String.Format("{0}%", Model.AlcoholPercentage))
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.Year)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Year)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.Price)
                </dt>
                <dd>
                    @Html.Raw(String.Format("&euro;{0}", Model.Price))
                </dd>
                
                <dt>
                    <br />
                </dt>
                <dd></dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Winery)
                </dt>
                <dd>
                    @Html.Raw(ViewBag.Winery.Name)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.Winery.Country)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Winery.Country)
                </dd>

                <dt>
                    <br />
                </dt>
                <dd></dd>

                <dt></dt>
                <dd>
                    <a href="@Url.Action("Create", "Cart",  new { clientID= user.ID, productID = Model.ID })" class="btn btn-info btn-sm" style="margin-top:8px;" onclick="alert('Product has been added to cart!')">
                        <span class="glyphicon glyphicon-shopping-cart"></span>
                        <span>&nbsp; Add To Cart</span>
                    </a>
                </dd>

            </dl>
        </div>
        <div class="col-sm-5 col-md-5 text-center">
            <img src="~/images/uploads/@Model.ImagePath" alt="Wine" id="wineImg" />
        </div>
        <div class="col-sm-2 col-md-2"></div>
    </div>


</div>
<div>
    <a asp-action="Index">Back to Wines</a>
</div>
